<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ì˜¤ëŠ˜ì˜ì„ íƒ Â· ë¡ìŠ¤íƒ€ RPG</title>

<style>
/* ===== ê¸°ë³¸ ===== */
body {
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background:#0b0f1a;
  color:#f0f2ff;
}
.wrap {
  max-width:860px;
  margin:0 auto;
  padding:16px;
}
h1 { font-size:20px; margin:0 0 12px 0; }

/* ===== ë¬´ëŒ€ ===== */
.stage {
  border-radius:18px;
  background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.12);
  overflow:hidden;
}

/* ===== ìºë¦­í„° ì˜ì—­ ===== */
.characters {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
  padding:16px;
}
.char {
  display:flex;
  gap:12px;
  align-items:center;
  background:rgba(0,0,0,0.25);
  border-radius:14px;
  padding:12px;
  border:1px solid rgba(255,255,255,0.1);
}

/* ===== ì•„ë°”íƒ€ ===== */
.avatar {
  width:90px;
  height:90px;
  border-radius:16px;
  background:rgba(255,255,255,0.06);
  display:grid;
  place-items:center;
  transform-origin:50% 80%;
  will-change:transform;
}

/* ===== ì›€ì§ì„ ì• ë‹ˆë©”ì´ì…˜ ===== */
@keyframes idleBreath {
  0%,100% { transform:translateY(0) scale(1); }
  50% { transform:translateY(-2px) scale(1.01); }
}
@keyframes talkNod {
  0%,100% { transform:translateY(-1px) rotate(0deg); }
  25% { transform:translateY(-3px) rotate(-1deg); }
  75% { transform:translateY(-3px) rotate(1deg); }
}
@keyframes reactPop {
  0% { transform:scale(1); }
  40% { transform:scale(1.06); }
  100% { transform:scale(1.01); }
}

.avatar.is-idle { animation: idleBreath 2.8s ease-in-out infinite; }
.avatar.is-talk { animation: talkNod 0.6s ease-in-out infinite; }
.avatar.is-react { animation: reactPop 0.35s ease-out; }

/* ===== í…ìŠ¤íŠ¸ ===== */
.name { font-weight:800; }
.role { font-size:12px; opacity:0.7; margin-top:4px; }

/* ===== ëŒ€í™” ===== */
.dialogue {
  padding:16px;
  border-top:1px solid rgba(255,255,255,0.12);
  background:rgba(0,0,0,0.35);
}
.question {
  font-size:18px;
  font-weight:800;
  margin-bottom:14px;
}
.choices { display:grid; gap:10px; }
button.choice {
  padding:12px 14px;
  font-size:15px;
  border-radius:12px;
  background:rgba(255,255,255,0.06);
  color:#f0f2ff;
  border:1px solid rgba(255,255,255,0.15);
  text-align:left;
}
button.choice:active { transform:translateY(1px); }

/* ===== ë¡œê·¸ ===== */
.log {
  margin-top:14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.12);
  overflow:hidden;
}
.log h2 {
  margin:0;
  padding:12px 16px;
  font-size:14px;
  background:rgba(0,0,0,0.4);
}
.logbody {
  padding:12px 16px;
  background:rgba(255,255,255,0.04);
}
.logitem {
  padding:8px 0;
  border-top:1px solid rgba(255,255,255,0.08);
  font-size:13px;
}
</style>
</head>

<body>
<div class="wrap">
  <h1>ğŸ¸ ì˜¤ëŠ˜ì˜ì„ íƒ Â· ë¡ìŠ¤íƒ€ RPG</h1>

  <div class="stage">

    <!-- ìºë¦­í„° -->
    <div class="characters">
      <div class="char">
        <div class="avatar is-idle" id="playerAvatar">
          ğŸ¸
        </div>
        <div>
          <div class="name">í”Œë ˆì´ì–´</div>
          <div class="role">ë¡ìŠ¤íƒ€ Â· ì„ íƒí•˜ëŠ” ì</div>
        </div>
      </div>

      <div class="char">
        <div class="avatar is-idle" id="npcAvatar">
          â“
        </div>
        <div>
          <div class="name">ì§ˆë¬¸ì</div>
          <div class="role">ë„ˆë¥¼ ì‹œí—˜í•˜ëŠ” ì¡´ì¬</div>
        </div>
      </div>
    </div>

    <!-- ëŒ€í™” -->
    <div class="dialogue">
      <div class="question" id="questionText"></div>
      <div class="choices" id="choices"></div>
    </div>

  </div>

  <div class="log">
    <h2>ë‚´ ê¸°ë¡</h2>
    <div class="logbody" id="logBody"></div>
  </div>
</div>

<script>
/* ===== ë°ì´í„° ===== */
const PROMPTS = [
  {
    q:"ì˜¤ëŠ˜, ë¬´ëŒ€ì— ì˜¤ë¥´ê¸° ì „ ë„ˆì˜ ì„ íƒì€?",
    options:["ëê¹Œì§€ ë¦¬í—ˆì„¤í•œë‹¤","ì¦‰í¥ì„ ë¯¿ëŠ”ë‹¤","ë™ë£Œì™€ í•©ì„ ë§ì¶˜ë‹¤","í˜¼ì ì§‘ì¤‘í•œë‹¤"]
  },
  {
    q:"ê°ˆë“±ì´ ìƒê²¼ë‹¤. ë„Œ?",
    options:["ì •ë©´ ëŒíŒŒ","í•œë°œ ë¬¼ëŸ¬ë‚¨","ëŒ€í™”ë¡œ í‘¼ë‹¤","ë¬´ì‹œí•œë‹¤"]
  },
  {
    q:"ìƒˆë¡œìš´ ê³¡ì„ ë§Œë“ ë‹¤ë©´?",
    options:["ê³„íšë¶€í„°","ê°ì •ë¶€í„°","ë ˆí¼ëŸ°ìŠ¤ ì¡°ì‚¬","ì¦‰í¥ ì—°ì£¼"]
  }
];

const LS_KEY = "rockstar_choice_log";

/* ===== ìƒíƒœ ===== */
const player = document.getElementById("playerAvatar");
const npc = document.getElementById("npcAvatar");
const qEl = document.getElementById("questionText");
const cEl = document.getElementById("choices");
const logEl = document.getElementById("logBody");

/* ===== ìœ í‹¸ ===== */
function setState(el, state){
  el.classList.remove("is-idle","is-talk","is-react");
  el.classList.add(state);
}

/* ===== ì§ˆë¬¸ í‘œì‹œ ===== */
const today = PROMPTS[new Date().getDate() % PROMPTS.length];
qEl.textContent = today.q;

setState(npc,"is-talk");

today.options.forEach(opt=>{
  const b=document.createElement("button");
  b.className="choice";
  b.textContent=opt;
  b.onclick=()=>{
    setState(player,"is-react");
    setTimeout(()=>setState(player,"is-idle"),400);
    saveLog(today.q,opt);
    renderLog();
  };
  cEl.appendChild(b);
});

/* ===== ë¡œê·¸ ===== */
function saveLog(q,a){
  const logs = JSON.parse(localStorage.getItem(LS_KEY)||"[]");
  logs.unshift({t:new Date().toLocaleString(),q,a});
  localStorage.setItem(LS_KEY,JSON.stringify(logs));
}
function renderLog(){
  const logs = JSON.parse(localStorage.getItem(LS_KEY)||"[]");
  logEl.innerHTML="";
  logs.slice(0,10).forEach(l=>{
    const d=document.createElement("div");
    d.className="logitem";
    d.textContent=`[${l.t}] ${l.a}`;
    logEl.appendChild(d);
  });
}
renderLog();
</script>
</body>
</html>
